/******/!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}// webpackBootstrap
/******/
var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1),r=n(2),a=n(3),i=n(4),d=n(5),l=n(6);angular.module("testCs",["ngAnimate","ngSanitize","ui.router","ngMaterial","toastr","uiGmapgoogle-maps"]).config(o.config).config(r.routerConfig).run(a.runBlock).service("markerService",l.markerService).controller("MainController",i.MainController).directive("windowHeight",d.windowHeight)},function(e,t){"use strict";function n(e,t,n,o){"ngInject";e.debugEnabled(!0),o.allowHtml=!0,o.timeOut=3e3,o.positionClass="toast-top-right",o.preventDuplicates=!0,o.progressBar=!0,t.theme("default").primaryPalette("cyan").accentPalette("deep-orange").warnPalette("blue-grey"),n.configure({key:"AIzaSyALUGz_xsMgKh55NqaqYZlIW9g4Wokl3Nw",v:"3.22",libraries:"places,geometry,visualization"})}n.$inject=["$logProvider","$mdThemingProvider","uiGmapGoogleMapApiProvider","toastrConfig"],Object.defineProperty(t,"__esModule",{value:!0}),t.config=n},function(e,t){"use strict";function n(e,t){"ngInject";e.state("home",{"abstract":!0,templateUrl:"app/map/main.html",controller:"MainController",controllerAs:"main"}).state("home.map",{url:"/",views:{sidebar:{templateUrl:"app/map/sidebar.html"},container:{templateUrl:"app/map/container.html"}}}).state("home.map.about",{url:"/about",onEnter:["$mdDialog","$state",function(e,t){alert=e.alert().title("Attention, ").textContent("This is an example of how easy dialogs can be!").ok("Close"),e.show(alert).then(function(){t.go("home.map")})}]}),t.otherwise("/")}n.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.routerConfig=n},function(e,t){"use strict";function n(e,t,n){"ngInject";t._=n._,e.debug("runBlock end")}n.$inject=["$log","$rootScope","$window"],Object.defineProperty(t,"__esModule",{value:!0}),t.runBlock=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function r(e,t,o,a,i){"ngInject";function d(){return s().then(function(){e.debug("Activated gmaps")}).then(function(){return c().then(function(){e.debug("Activated markers list")})}).then(function(){u(),p()})}function l(){var e=v.markers.length,t={id:e,coords:{latitude:v.marker.coords.latitude,longitude:v.marker.coords.longitude},window:{title:v.location.name}};a.addMarker(v.markers,t),v.location={name:"",direction:""},v.marker={id:0,coords:{latitude:0,longitude:0}}}function m(t){e.debug(t),a.removeMarker(v.markers,t)}function c(){return a.getMarkers().then(function(e){v.markers=e})}function s(){return i.then(function(e){v.map={center:v.mapConfig.center,zoom:10,pan:0,options:v.mapConfig.options,control:{}}})}function u(){var t=document.getElementById("searchbox"),n=new google.maps.places.SearchBox(t);n.addListener("places_changed",function(){var t=n.getPlaces(),o=t[0].geometry.location.lat(),r=t[0].geometry.location.lng();e.debug(n,o,r),v.map={zoom:15,center:{latitude:o,longitude:r}},v.marker.coords={latitude:o,longitude:r}})}function p(){return v.marker={id:0,coords:{},options:{draggable:!0},events:{dragend:function(t){var n=t.getPosition().lat(),o=t.getPosition().lng();e.log(n),e.log(o)}}}}function g(){return{center:{latitude:-33.4488897,longitude:-70.6692655},options:{minZoom:5,zoomControl:!0,draggable:!0,scrollwheel:!0,navigationControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!1,disableDoubleClickZoom:!1,keyboardShortcuts:!0}}}n(this,r);var v=this;v.map={},v.marker={},v.markers=[],v.addMarker=l,v.removeMarker=m,v.mapConfig=g(),v.pageTitle="Gmaps markers",v.show=!1,d(),e.debug("loading main controller")};o.$inject=["$log","$http","$scope","markerService","uiGmapGoogleMapApi"],t.MainController=o},function(e,t){"use strict";function n(e,t){"ngInject";return function(t,n){function o(){var t=e.innerHeight;n.css("height",t+"px")}var r=angular.element(e);o(),r.on("resize",_.debounce(o,250)),r.on("$destroy",o())}}n.$inject=["$window","$log"],Object.defineProperty(t,"__esModule",{value:!0}),t.windowHeight=n},function(e,t){"use strict";function n(e,t,n){"ngInject";function o(){var o=t.defer();return e.get("./assets/markers.json").success(function(e){n.debug("Respond from service",e),o.resolve(e)}).error(function(){o.reject("fail")}),o.promise}function r(e,t){e.push(t)}function a(e,t){_.remove(e,function(e){return e.id===t.id})}var i={getMarkers:o,removeMarker:a,addMarker:r};return i}n.$inject=["$http","$q","$log"],Object.defineProperty(t,"__esModule",{value:!0}),t.markerService=n}]),angular.module("testCs").run(["$templateCache",function(e){e.put("app/map/container.html",'<div id="map" class="angular-google-map-container" window-height=""><ui-gmap-google-map center="main.map.center" zoom="main.map.zoom" draggable="true" options="main.map.options" events="main.map.events" control="googlemap"><ui-gmap-marker coords="main.marker.coords" options="main.marker.options" events="main.marker.events" idkey="main.marker.id"></ui-gmap-marker><ui-gmap-marker ng-repeat="marker in main.markers" coords="marker.coords" options="marker.options" events="marker.events" idkey="marker.id"><ui-gmap-window><div>{{marker.window.title}}</div></ui-gmap-window></ui-gmap-marker></ui-gmap-google-map></div>'),e.put("app/map/main.html",'<div layout="column" layout-fill=""><md-toolbar md-scroll-shrink="false" class=""><div class="md-toolbar-tools"><h3 class="md-display-4">{{ main.pageTitle | uppercase }}</h3><span flex=""></span><md-button class="md-raised" aria-label="about" ui-sref="home.map.about">About</md-button></div></md-toolbar><md-content><div layout="row"><div ui-view="sidebar" flex="25" class="sidebar"></div><div ui-view="container" flex="75" class="container"></div></div></md-content></div>'),e.put("app/map/sidebar.html",'<div id="sidebar" window-height=""><md-list><md-content layout-gt-sm="column" layout-padding=""><md-button class="md-raised md-accent add-marker" ng-click="main.show=!main.show"><md-icon class="material-icons">place</md-icon>Agregar Marcador</md-button></md-content><md-content layout-gt-sm="column" layout-padding="" ng-hide="!main.show"><md-divider></md-divider><br><div class="animated" ng-class="main.show == true ? \'fadeInDown\' : \'fadeOutDown\'"><md-input-container><label>Direcci√≥n</label> <input ng-model="main.location.direction" type="text" id="searchbox" placeholder=""></md-input-container><md-input-container><label>Nombre</label> <input ng-model="main.location.name" type="text" placeholder=""></md-input-container><md-content layout-gt-sm="column"><md-button class="md-raised md-primary add-marker" ng-click="main.addMarker()">Guardar</md-button></md-content></div></md-content><md-divider></md-divider><md-subheader class="md-no-sticky">Mis marcadores</md-subheader><md-divider></md-divider><md-list-item ng-repeat="marker in main.markers" class="secondary-button-padding marker-list"><p>{{ marker.window.title }}</p><md-button class="md-icon-button md-secondary" aria-label="More" ng-click="main.removeMarker(marker)"><md-icon class="material-icons">delete</md-icon></md-button></md-list-item><md-divider></md-divider></md-list></div>')}]);
//# sourceMappingURL=../maps/scripts/app-4fcde7887d.js.map
